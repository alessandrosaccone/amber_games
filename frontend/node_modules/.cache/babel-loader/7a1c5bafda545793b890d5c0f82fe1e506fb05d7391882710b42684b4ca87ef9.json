{"ast":null,"code":"var _jsxFileName = \"D:\\\\amber_games\\\\frontend\\\\src\\\\components\\\\FloatingAvatars.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport axios from 'axios';\nimport API_BASE_URL from '../config';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction FloatingAvatars() {\n  _s();\n  const canvasRef = useRef(null);\n  const [avatars, setAvatars] = useState([]);\n  const ballsRef = useRef([]);\n  const animationRef = useRef(null);\n  useEffect(() => {\n    // Carica gli avatar dal backend\n    const loadAvatars = async () => {\n      try {\n        const response = await axios.get(`${API_BASE_URL}/api/events/names`);\n        const people = response.data.filter(person => person.avatar_url);\n        setAvatars(people);\n      } catch (error) {\n        console.error('Errore caricamento avatar:', error);\n      }\n    };\n    loadAvatars();\n  }, []);\n  useEffect(() => {\n    if (avatars.length === 0) return;\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n    const ctx = canvas.getContext('2d');\n\n    // Imposta dimensioni canvas\n    const resizeCanvas = () => {\n      canvas.width = window.innerWidth;\n      canvas.height = window.innerHeight;\n    };\n    resizeCanvas();\n    window.addEventListener('resize', resizeCanvas);\n\n    // Carica immagini avatar\n    const validImages = [];\n    let imagesLoaded = 0;\n    const checkAllLoaded = () => {\n      imagesLoaded++;\n      if (imagesLoaded === avatars.length) {\n        if (validImages.length > 0) {\n          initBalls(validImages);\n        } else {\n          console.warn('Nessun avatar valido caricato');\n        }\n      }\n    };\n    avatars.forEach(person => {\n      const img = new Image();\n      img.crossOrigin = 'anonymous';\n      img.onload = () => {\n        validImages.push({\n          img,\n          person\n        });\n        checkAllLoaded();\n      };\n      img.onerror = () => {\n        console.warn(`Impossibile caricare avatar: ${person.avatar_url}`);\n        checkAllLoaded();\n      };\n\n      // Costruisci URL corretto\n      const avatarUrl = person.avatar_url.startsWith('http') ? person.avatar_url : `${API_BASE_URL}${person.avatar_url}`;\n      img.src = avatarUrl;\n    });\n\n    // Inizializza palline\n    const initBalls = validImages => {\n      ballsRef.current = [];\n      const numBalls = Math.min(validImages.length, 15); // Max 15 avatar\n\n      for (let i = 0; i < numBalls; i++) {\n        const size = 60 + Math.random() * 40; // Dimensione casuale 60-100px\n        ballsRef.current.push({\n          x: Math.random() * (canvas.width - size),\n          y: Math.random() * (canvas.height - size),\n          vx: (Math.random() - 0.5) * 3,\n          // Velocità X\n          vy: (Math.random() - 0.5) * 3,\n          // Velocità Y\n          size: size,\n          img: validImages[i % validImages.length].img,\n          rotation: Math.random() * Math.PI * 2,\n          rotationSpeed: (Math.random() - 0.5) * 0.02\n        });\n      }\n      animate();\n    };\n\n    // Aggiungi nell'useEffect dopo initBalls():\n\n    canvas.addEventListener('click', e => {\n      const rect = canvas.getBoundingClientRect();\n      const clickX = e.clientX - rect.left;\n      const clickY = e.clientY - rect.top;\n      ballsRef.current.forEach(ball => {\n        const dx = ball.x + ball.size / 2 - clickX;\n        const dy = ball.y + ball.size / 2 - clickY;\n        const distance = Math.sqrt(dx * dx + dy * dy);\n        if (distance < ball.size / 2) {\n          // Impulso verso fuori\n          const angle = Math.atan2(dy, dx);\n          ball.vx = Math.cos(angle) * 10;\n          ball.vy = Math.sin(angle) * 10;\n          ball.rotationSpeed = (Math.random() - 0.5) * 0.2;\n        }\n      });\n    });\n    // Animazione\n    const animate = () => {\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\n      ballsRef.current.forEach(ball => {\n        // ⭐ CONTROLLA CHE L'IMMAGINE SIA VALIDA\n        if (!ball.img || !ball.img.complete || ball.img.naturalWidth === 0) {\n          return; // Salta questa palla se l'immagine non è valida\n        }\n\n        // Aggiorna posizione\n        ball.x += ball.vx;\n        ball.y += ball.vy;\n\n        // Rimbalzo sui bordi\n        if (ball.x <= 0 || ball.x + ball.size >= canvas.width) {\n          ball.vx *= -1;\n          ball.x = Math.max(0, Math.min(ball.x, canvas.width - ball.size));\n        }\n        if (ball.y <= 0 || ball.y + ball.size >= canvas.height) {\n          ball.vy *= -1;\n          ball.y = Math.max(0, Math.min(ball.y, canvas.height - ball.size));\n        }\n\n        // Aggiorna rotazione\n        ball.rotation += ball.rotationSpeed;\n\n        // Disegna avatar circolare\n        try {\n          ctx.save();\n          ctx.translate(ball.x + ball.size / 2, ball.y + ball.size / 2);\n          ctx.rotate(ball.rotation);\n\n          // Clip circolare\n          ctx.beginPath();\n          ctx.arc(0, 0, ball.size / 2, 0, Math.PI * 2);\n          ctx.closePath();\n          ctx.clip();\n\n          // Disegna immagine\n          ctx.drawImage(ball.img, -ball.size / 2, -ball.size / 2, ball.size, ball.size);\n          ctx.restore();\n\n          // Bordo bianco con ombra\n          ctx.save();\n          ctx.shadowColor = 'rgba(0, 0, 0, 0.3)';\n          ctx.shadowBlur = 10;\n          ctx.strokeStyle = 'rgba(255, 255, 255, 0.8)';\n          ctx.lineWidth = 3;\n          ctx.beginPath();\n          ctx.arc(ball.x + ball.size / 2, ball.y + ball.size / 2, ball.size / 2, 0, Math.PI * 2);\n          ctx.stroke();\n          ctx.restore();\n        } catch (error) {\n          console.error('Errore nel disegno:', error);\n        }\n      });\n      animationRef.current = requestAnimationFrame(animate);\n    };\n    return () => {\n      window.removeEventListener('resize', resizeCanvas);\n      if (animationRef.current) {\n        cancelAnimationFrame(animationRef.current);\n      }\n    };\n  }, [avatars]);\n  return /*#__PURE__*/_jsxDEV(\"canvas\", {\n    ref: canvasRef,\n    style: {\n      position: 'fixed',\n      top: 0,\n      left: 0,\n      width: '100%',\n      height: '100%',\n      zIndex: -1,\n      pointerEvents: 'none'\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 199,\n    columnNumber: 5\n  }, this);\n}\n_s(FloatingAvatars, \"VntsWlG8v+DwA22NQKRha6LIudk=\");\n_c = FloatingAvatars;\nexport default FloatingAvatars;\nvar _c;\n$RefreshReg$(_c, \"FloatingAvatars\");","map":{"version":3,"names":["React","useEffect","useRef","useState","axios","API_BASE_URL","jsxDEV","_jsxDEV","FloatingAvatars","_s","canvasRef","avatars","setAvatars","ballsRef","animationRef","loadAvatars","response","get","people","data","filter","person","avatar_url","error","console","length","canvas","current","ctx","getContext","resizeCanvas","width","window","innerWidth","height","innerHeight","addEventListener","validImages","imagesLoaded","checkAllLoaded","initBalls","warn","forEach","img","Image","crossOrigin","onload","push","onerror","avatarUrl","startsWith","src","numBalls","Math","min","i","size","random","x","y","vx","vy","rotation","PI","rotationSpeed","animate","e","rect","getBoundingClientRect","clickX","clientX","left","clickY","clientY","top","ball","dx","dy","distance","sqrt","angle","atan2","cos","sin","clearRect","complete","naturalWidth","max","save","translate","rotate","beginPath","arc","closePath","clip","drawImage","restore","shadowColor","shadowBlur","strokeStyle","lineWidth","stroke","requestAnimationFrame","removeEventListener","cancelAnimationFrame","ref","style","position","zIndex","pointerEvents","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["D:/amber_games/frontend/src/components/FloatingAvatars.jsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\r\nimport axios from 'axios';\r\nimport API_BASE_URL from '../config';\r\n\r\nfunction FloatingAvatars() {\r\n  const canvasRef = useRef(null);\r\n  const [avatars, setAvatars] = useState([]);\r\n  const ballsRef = useRef([]);\r\n  const animationRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    // Carica gli avatar dal backend\r\n    const loadAvatars = async () => {\r\n      try {\r\n        const response = await axios.get(`${API_BASE_URL}/api/events/names`);\r\n        const people = response.data.filter(person => person.avatar_url);\r\n        setAvatars(people);\r\n      } catch (error) {\r\n        console.error('Errore caricamento avatar:', error);\r\n      }\r\n    };\r\n\r\n    loadAvatars();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (avatars.length === 0) return;\r\n\r\n    const canvas = canvasRef.current;\r\n    if (!canvas) return;\r\n    \r\n    const ctx = canvas.getContext('2d');\r\n\r\n    // Imposta dimensioni canvas\r\n    const resizeCanvas = () => {\r\n      canvas.width = window.innerWidth;\r\n      canvas.height = window.innerHeight;\r\n    };\r\n    resizeCanvas();\r\n    window.addEventListener('resize', resizeCanvas);\r\n\r\n    // Carica immagini avatar\r\n    const validImages = [];\r\n    let imagesLoaded = 0;\r\n\r\n    const checkAllLoaded = () => {\r\n      imagesLoaded++;\r\n      if (imagesLoaded === avatars.length) {\r\n        if (validImages.length > 0) {\r\n          initBalls(validImages);\r\n        } else {\r\n          console.warn('Nessun avatar valido caricato');\r\n        }\r\n      }\r\n    };\r\n\r\n    avatars.forEach((person) => {\r\n      const img = new Image();\r\n      img.crossOrigin = 'anonymous';\r\n      \r\n      img.onload = () => {\r\n        validImages.push({ img, person });\r\n        checkAllLoaded();\r\n      };\r\n      \r\n      img.onerror = () => {\r\n        console.warn(`Impossibile caricare avatar: ${person.avatar_url}`);\r\n        checkAllLoaded();\r\n      };\r\n      \r\n      // Costruisci URL corretto\r\n      const avatarUrl = person.avatar_url.startsWith('http') \r\n        ? person.avatar_url \r\n        : `${API_BASE_URL}${person.avatar_url}`;\r\n      \r\n      img.src = avatarUrl;\r\n    });\r\n\r\n    // Inizializza palline\r\n    const initBalls = (validImages) => {\r\n      ballsRef.current = [];\r\n      const numBalls = Math.min(validImages.length, 15); // Max 15 avatar\r\n\r\n      for (let i = 0; i < numBalls; i++) {\r\n        const size = 60 + Math.random() * 40; // Dimensione casuale 60-100px\r\n        ballsRef.current.push({\r\n          x: Math.random() * (canvas.width - size),\r\n          y: Math.random() * (canvas.height - size),\r\n          vx: (Math.random() - 0.5) * 3, // Velocità X\r\n          vy: (Math.random() - 0.5) * 3, // Velocità Y\r\n          size: size,\r\n          img: validImages[i % validImages.length].img,\r\n          rotation: Math.random() * Math.PI * 2,\r\n          rotationSpeed: (Math.random() - 0.5) * 0.02\r\n        });\r\n      }\r\n\r\n      animate();\r\n    };\r\n\r\n    // Aggiungi nell'useEffect dopo initBalls():\r\n\r\ncanvas.addEventListener('click', (e) => {\r\n  const rect = canvas.getBoundingClientRect();\r\n  const clickX = e.clientX - rect.left;\r\n  const clickY = e.clientY - rect.top;\r\n\r\n  ballsRef.current.forEach(ball => {\r\n    const dx = (ball.x + ball.size / 2) - clickX;\r\n    const dy = (ball.y + ball.size / 2) - clickY;\r\n    const distance = Math.sqrt(dx * dx + dy * dy);\r\n\r\n    if (distance < ball.size / 2) {\r\n      // Impulso verso fuori\r\n      const angle = Math.atan2(dy, dx);\r\n      ball.vx = Math.cos(angle) * 10;\r\n      ball.vy = Math.sin(angle) * 10;\r\n      ball.rotationSpeed = (Math.random() - 0.5) * 0.2;\r\n    }\r\n  });\r\n});\r\n    // Animazione\r\n    const animate = () => {\r\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n\r\n      ballsRef.current.forEach(ball => {\r\n        // ⭐ CONTROLLA CHE L'IMMAGINE SIA VALIDA\r\n        if (!ball.img || !ball.img.complete || ball.img.naturalWidth === 0) {\r\n          return; // Salta questa palla se l'immagine non è valida\r\n        }\r\n\r\n        // Aggiorna posizione\r\n        ball.x += ball.vx;\r\n        ball.y += ball.vy;\r\n\r\n        // Rimbalzo sui bordi\r\n        if (ball.x <= 0 || ball.x + ball.size >= canvas.width) {\r\n          ball.vx *= -1;\r\n          ball.x = Math.max(0, Math.min(ball.x, canvas.width - ball.size));\r\n        }\r\n        if (ball.y <= 0 || ball.y + ball.size >= canvas.height) {\r\n          ball.vy *= -1;\r\n          ball.y = Math.max(0, Math.min(ball.y, canvas.height - ball.size));\r\n        }\r\n\r\n        // Aggiorna rotazione\r\n        ball.rotation += ball.rotationSpeed;\r\n\r\n        // Disegna avatar circolare\r\n        try {\r\n          ctx.save();\r\n          ctx.translate(ball.x + ball.size / 2, ball.y + ball.size / 2);\r\n          ctx.rotate(ball.rotation);\r\n\r\n          // Clip circolare\r\n          ctx.beginPath();\r\n          ctx.arc(0, 0, ball.size / 2, 0, Math.PI * 2);\r\n          ctx.closePath();\r\n          ctx.clip();\r\n\r\n          // Disegna immagine\r\n          ctx.drawImage(\r\n            ball.img,\r\n            -ball.size / 2,\r\n            -ball.size / 2,\r\n            ball.size,\r\n            ball.size\r\n          );\r\n\r\n          ctx.restore();\r\n\r\n          // Bordo bianco con ombra\r\n          ctx.save();\r\n          ctx.shadowColor = 'rgba(0, 0, 0, 0.3)';\r\n          ctx.shadowBlur = 10;\r\n          ctx.strokeStyle = 'rgba(255, 255, 255, 0.8)';\r\n          ctx.lineWidth = 3;\r\n          ctx.beginPath();\r\n          ctx.arc(ball.x + ball.size / 2, ball.y + ball.size / 2, ball.size / 2, 0, Math.PI * 2);\r\n          ctx.stroke();\r\n          ctx.restore();\r\n        } catch (error) {\r\n          console.error('Errore nel disegno:', error);\r\n        }\r\n      });\r\n\r\n      animationRef.current = requestAnimationFrame(animate);\r\n    };\r\n\r\n    return () => {\r\n      window.removeEventListener('resize', resizeCanvas);\r\n      if (animationRef.current) {\r\n        cancelAnimationFrame(animationRef.current);\r\n      }\r\n    };\r\n  }, [avatars]);\r\n\r\n  return (\r\n    <canvas\r\n      ref={canvasRef}\r\n      style={{\r\n        position: 'fixed',\r\n        top: 0,\r\n        left: 0,\r\n        width: '100%',\r\n        height: '100%',\r\n        zIndex: -1,\r\n        pointerEvents: 'none'\r\n      }}\r\n    />\r\n  );\r\n}\r\n\r\nexport default FloatingAvatars;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,MAAM,EAAEC,QAAQ,QAAQ,OAAO;AAC1D,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,YAAY,MAAM,WAAW;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAErC,SAASC,eAAeA,CAAA,EAAG;EAAAC,EAAA;EACzB,MAAMC,SAAS,GAAGR,MAAM,CAAC,IAAI,CAAC;EAC9B,MAAM,CAACS,OAAO,EAAEC,UAAU,CAAC,GAAGT,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAMU,QAAQ,GAAGX,MAAM,CAAC,EAAE,CAAC;EAC3B,MAAMY,YAAY,GAAGZ,MAAM,CAAC,IAAI,CAAC;EAEjCD,SAAS,CAAC,MAAM;IACd;IACA,MAAMc,WAAW,GAAG,MAAAA,CAAA,KAAY;MAC9B,IAAI;QACF,MAAMC,QAAQ,GAAG,MAAMZ,KAAK,CAACa,GAAG,CAAC,GAAGZ,YAAY,mBAAmB,CAAC;QACpE,MAAMa,MAAM,GAAGF,QAAQ,CAACG,IAAI,CAACC,MAAM,CAACC,MAAM,IAAIA,MAAM,CAACC,UAAU,CAAC;QAChEV,UAAU,CAACM,MAAM,CAAC;MACpB,CAAC,CAAC,OAAOK,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAAC;MACpD;IACF,CAAC;IAEDR,WAAW,CAAC,CAAC;EACf,CAAC,EAAE,EAAE,CAAC;EAENd,SAAS,CAAC,MAAM;IACd,IAAIU,OAAO,CAACc,MAAM,KAAK,CAAC,EAAE;IAE1B,MAAMC,MAAM,GAAGhB,SAAS,CAACiB,OAAO;IAChC,IAAI,CAACD,MAAM,EAAE;IAEb,MAAME,GAAG,GAAGF,MAAM,CAACG,UAAU,CAAC,IAAI,CAAC;;IAEnC;IACA,MAAMC,YAAY,GAAGA,CAAA,KAAM;MACzBJ,MAAM,CAACK,KAAK,GAAGC,MAAM,CAACC,UAAU;MAChCP,MAAM,CAACQ,MAAM,GAAGF,MAAM,CAACG,WAAW;IACpC,CAAC;IACDL,YAAY,CAAC,CAAC;IACdE,MAAM,CAACI,gBAAgB,CAAC,QAAQ,EAAEN,YAAY,CAAC;;IAE/C;IACA,MAAMO,WAAW,GAAG,EAAE;IACtB,IAAIC,YAAY,GAAG,CAAC;IAEpB,MAAMC,cAAc,GAAGA,CAAA,KAAM;MAC3BD,YAAY,EAAE;MACd,IAAIA,YAAY,KAAK3B,OAAO,CAACc,MAAM,EAAE;QACnC,IAAIY,WAAW,CAACZ,MAAM,GAAG,CAAC,EAAE;UAC1Be,SAAS,CAACH,WAAW,CAAC;QACxB,CAAC,MAAM;UACLb,OAAO,CAACiB,IAAI,CAAC,+BAA+B,CAAC;QAC/C;MACF;IACF,CAAC;IAED9B,OAAO,CAAC+B,OAAO,CAAErB,MAAM,IAAK;MAC1B,MAAMsB,GAAG,GAAG,IAAIC,KAAK,CAAC,CAAC;MACvBD,GAAG,CAACE,WAAW,GAAG,WAAW;MAE7BF,GAAG,CAACG,MAAM,GAAG,MAAM;QACjBT,WAAW,CAACU,IAAI,CAAC;UAAEJ,GAAG;UAAEtB;QAAO,CAAC,CAAC;QACjCkB,cAAc,CAAC,CAAC;MAClB,CAAC;MAEDI,GAAG,CAACK,OAAO,GAAG,MAAM;QAClBxB,OAAO,CAACiB,IAAI,CAAC,gCAAgCpB,MAAM,CAACC,UAAU,EAAE,CAAC;QACjEiB,cAAc,CAAC,CAAC;MAClB,CAAC;;MAED;MACA,MAAMU,SAAS,GAAG5B,MAAM,CAACC,UAAU,CAAC4B,UAAU,CAAC,MAAM,CAAC,GAClD7B,MAAM,CAACC,UAAU,GACjB,GAAGjB,YAAY,GAAGgB,MAAM,CAACC,UAAU,EAAE;MAEzCqB,GAAG,CAACQ,GAAG,GAAGF,SAAS;IACrB,CAAC,CAAC;;IAEF;IACA,MAAMT,SAAS,GAAIH,WAAW,IAAK;MACjCxB,QAAQ,CAACc,OAAO,GAAG,EAAE;MACrB,MAAMyB,QAAQ,GAAGC,IAAI,CAACC,GAAG,CAACjB,WAAW,CAACZ,MAAM,EAAE,EAAE,CAAC,CAAC,CAAC;;MAEnD,KAAK,IAAI8B,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGH,QAAQ,EAAEG,CAAC,EAAE,EAAE;QACjC,MAAMC,IAAI,GAAG,EAAE,GAAGH,IAAI,CAACI,MAAM,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC;QACtC5C,QAAQ,CAACc,OAAO,CAACoB,IAAI,CAAC;UACpBW,CAAC,EAAEL,IAAI,CAACI,MAAM,CAAC,CAAC,IAAI/B,MAAM,CAACK,KAAK,GAAGyB,IAAI,CAAC;UACxCG,CAAC,EAAEN,IAAI,CAACI,MAAM,CAAC,CAAC,IAAI/B,MAAM,CAACQ,MAAM,GAAGsB,IAAI,CAAC;UACzCI,EAAE,EAAE,CAACP,IAAI,CAACI,MAAM,CAAC,CAAC,GAAG,GAAG,IAAI,CAAC;UAAE;UAC/BI,EAAE,EAAE,CAACR,IAAI,CAACI,MAAM,CAAC,CAAC,GAAG,GAAG,IAAI,CAAC;UAAE;UAC/BD,IAAI,EAAEA,IAAI;UACVb,GAAG,EAAEN,WAAW,CAACkB,CAAC,GAAGlB,WAAW,CAACZ,MAAM,CAAC,CAACkB,GAAG;UAC5CmB,QAAQ,EAAET,IAAI,CAACI,MAAM,CAAC,CAAC,GAAGJ,IAAI,CAACU,EAAE,GAAG,CAAC;UACrCC,aAAa,EAAE,CAACX,IAAI,CAACI,MAAM,CAAC,CAAC,GAAG,GAAG,IAAI;QACzC,CAAC,CAAC;MACJ;MAEAQ,OAAO,CAAC,CAAC;IACX,CAAC;;IAED;;IAEJvC,MAAM,CAACU,gBAAgB,CAAC,OAAO,EAAG8B,CAAC,IAAK;MACtC,MAAMC,IAAI,GAAGzC,MAAM,CAAC0C,qBAAqB,CAAC,CAAC;MAC3C,MAAMC,MAAM,GAAGH,CAAC,CAACI,OAAO,GAAGH,IAAI,CAACI,IAAI;MACpC,MAAMC,MAAM,GAAGN,CAAC,CAACO,OAAO,GAAGN,IAAI,CAACO,GAAG;MAEnC7D,QAAQ,CAACc,OAAO,CAACe,OAAO,CAACiC,IAAI,IAAI;QAC/B,MAAMC,EAAE,GAAID,IAAI,CAACjB,CAAC,GAAGiB,IAAI,CAACnB,IAAI,GAAG,CAAC,GAAIa,MAAM;QAC5C,MAAMQ,EAAE,GAAIF,IAAI,CAAChB,CAAC,GAAGgB,IAAI,CAACnB,IAAI,GAAG,CAAC,GAAIgB,MAAM;QAC5C,MAAMM,QAAQ,GAAGzB,IAAI,CAAC0B,IAAI,CAACH,EAAE,GAAGA,EAAE,GAAGC,EAAE,GAAGA,EAAE,CAAC;QAE7C,IAAIC,QAAQ,GAAGH,IAAI,CAACnB,IAAI,GAAG,CAAC,EAAE;UAC5B;UACA,MAAMwB,KAAK,GAAG3B,IAAI,CAAC4B,KAAK,CAACJ,EAAE,EAAED,EAAE,CAAC;UAChCD,IAAI,CAACf,EAAE,GAAGP,IAAI,CAAC6B,GAAG,CAACF,KAAK,CAAC,GAAG,EAAE;UAC9BL,IAAI,CAACd,EAAE,GAAGR,IAAI,CAAC8B,GAAG,CAACH,KAAK,CAAC,GAAG,EAAE;UAC9BL,IAAI,CAACX,aAAa,GAAG,CAACX,IAAI,CAACI,MAAM,CAAC,CAAC,GAAG,GAAG,IAAI,GAAG;QAClD;MACF,CAAC,CAAC;IACJ,CAAC,CAAC;IACE;IACA,MAAMQ,OAAO,GAAGA,CAAA,KAAM;MACpBrC,GAAG,CAACwD,SAAS,CAAC,CAAC,EAAE,CAAC,EAAE1D,MAAM,CAACK,KAAK,EAAEL,MAAM,CAACQ,MAAM,CAAC;MAEhDrB,QAAQ,CAACc,OAAO,CAACe,OAAO,CAACiC,IAAI,IAAI;QAC/B;QACA,IAAI,CAACA,IAAI,CAAChC,GAAG,IAAI,CAACgC,IAAI,CAAChC,GAAG,CAAC0C,QAAQ,IAAIV,IAAI,CAAChC,GAAG,CAAC2C,YAAY,KAAK,CAAC,EAAE;UAClE,OAAO,CAAC;QACV;;QAEA;QACAX,IAAI,CAACjB,CAAC,IAAIiB,IAAI,CAACf,EAAE;QACjBe,IAAI,CAAChB,CAAC,IAAIgB,IAAI,CAACd,EAAE;;QAEjB;QACA,IAAIc,IAAI,CAACjB,CAAC,IAAI,CAAC,IAAIiB,IAAI,CAACjB,CAAC,GAAGiB,IAAI,CAACnB,IAAI,IAAI9B,MAAM,CAACK,KAAK,EAAE;UACrD4C,IAAI,CAACf,EAAE,IAAI,CAAC,CAAC;UACbe,IAAI,CAACjB,CAAC,GAAGL,IAAI,CAACkC,GAAG,CAAC,CAAC,EAAElC,IAAI,CAACC,GAAG,CAACqB,IAAI,CAACjB,CAAC,EAAEhC,MAAM,CAACK,KAAK,GAAG4C,IAAI,CAACnB,IAAI,CAAC,CAAC;QAClE;QACA,IAAImB,IAAI,CAAChB,CAAC,IAAI,CAAC,IAAIgB,IAAI,CAAChB,CAAC,GAAGgB,IAAI,CAACnB,IAAI,IAAI9B,MAAM,CAACQ,MAAM,EAAE;UACtDyC,IAAI,CAACd,EAAE,IAAI,CAAC,CAAC;UACbc,IAAI,CAAChB,CAAC,GAAGN,IAAI,CAACkC,GAAG,CAAC,CAAC,EAAElC,IAAI,CAACC,GAAG,CAACqB,IAAI,CAAChB,CAAC,EAAEjC,MAAM,CAACQ,MAAM,GAAGyC,IAAI,CAACnB,IAAI,CAAC,CAAC;QACnE;;QAEA;QACAmB,IAAI,CAACb,QAAQ,IAAIa,IAAI,CAACX,aAAa;;QAEnC;QACA,IAAI;UACFpC,GAAG,CAAC4D,IAAI,CAAC,CAAC;UACV5D,GAAG,CAAC6D,SAAS,CAACd,IAAI,CAACjB,CAAC,GAAGiB,IAAI,CAACnB,IAAI,GAAG,CAAC,EAAEmB,IAAI,CAAChB,CAAC,GAAGgB,IAAI,CAACnB,IAAI,GAAG,CAAC,CAAC;UAC7D5B,GAAG,CAAC8D,MAAM,CAACf,IAAI,CAACb,QAAQ,CAAC;;UAEzB;UACAlC,GAAG,CAAC+D,SAAS,CAAC,CAAC;UACf/D,GAAG,CAACgE,GAAG,CAAC,CAAC,EAAE,CAAC,EAAEjB,IAAI,CAACnB,IAAI,GAAG,CAAC,EAAE,CAAC,EAAEH,IAAI,CAACU,EAAE,GAAG,CAAC,CAAC;UAC5CnC,GAAG,CAACiE,SAAS,CAAC,CAAC;UACfjE,GAAG,CAACkE,IAAI,CAAC,CAAC;;UAEV;UACAlE,GAAG,CAACmE,SAAS,CACXpB,IAAI,CAAChC,GAAG,EACR,CAACgC,IAAI,CAACnB,IAAI,GAAG,CAAC,EACd,CAACmB,IAAI,CAACnB,IAAI,GAAG,CAAC,EACdmB,IAAI,CAACnB,IAAI,EACTmB,IAAI,CAACnB,IACP,CAAC;UAED5B,GAAG,CAACoE,OAAO,CAAC,CAAC;;UAEb;UACApE,GAAG,CAAC4D,IAAI,CAAC,CAAC;UACV5D,GAAG,CAACqE,WAAW,GAAG,oBAAoB;UACtCrE,GAAG,CAACsE,UAAU,GAAG,EAAE;UACnBtE,GAAG,CAACuE,WAAW,GAAG,0BAA0B;UAC5CvE,GAAG,CAACwE,SAAS,GAAG,CAAC;UACjBxE,GAAG,CAAC+D,SAAS,CAAC,CAAC;UACf/D,GAAG,CAACgE,GAAG,CAACjB,IAAI,CAACjB,CAAC,GAAGiB,IAAI,CAACnB,IAAI,GAAG,CAAC,EAAEmB,IAAI,CAAChB,CAAC,GAAGgB,IAAI,CAACnB,IAAI,GAAG,CAAC,EAAEmB,IAAI,CAACnB,IAAI,GAAG,CAAC,EAAE,CAAC,EAAEH,IAAI,CAACU,EAAE,GAAG,CAAC,CAAC;UACtFnC,GAAG,CAACyE,MAAM,CAAC,CAAC;UACZzE,GAAG,CAACoE,OAAO,CAAC,CAAC;QACf,CAAC,CAAC,OAAOzE,KAAK,EAAE;UACdC,OAAO,CAACD,KAAK,CAAC,qBAAqB,EAAEA,KAAK,CAAC;QAC7C;MACF,CAAC,CAAC;MAEFT,YAAY,CAACa,OAAO,GAAG2E,qBAAqB,CAACrC,OAAO,CAAC;IACvD,CAAC;IAED,OAAO,MAAM;MACXjC,MAAM,CAACuE,mBAAmB,CAAC,QAAQ,EAAEzE,YAAY,CAAC;MAClD,IAAIhB,YAAY,CAACa,OAAO,EAAE;QACxB6E,oBAAoB,CAAC1F,YAAY,CAACa,OAAO,CAAC;MAC5C;IACF,CAAC;EACH,CAAC,EAAE,CAAChB,OAAO,CAAC,CAAC;EAEb,oBACEJ,OAAA;IACEkG,GAAG,EAAE/F,SAAU;IACfgG,KAAK,EAAE;MACLC,QAAQ,EAAE,OAAO;MACjBjC,GAAG,EAAE,CAAC;MACNH,IAAI,EAAE,CAAC;MACPxC,KAAK,EAAE,MAAM;MACbG,MAAM,EAAE,MAAM;MACd0E,MAAM,EAAE,CAAC,CAAC;MACVC,aAAa,EAAE;IACjB;EAAE;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEN;AAACxG,EAAA,CA/MQD,eAAe;AAAA0G,EAAA,GAAf1G,eAAe;AAiNxB,eAAeA,eAAe;AAAC,IAAA0G,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}